<!DOCTYPE html>
	<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<link href="../css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
	    <link href="../css/headerStyles.css" th:href="@{/css/headerStyles.css}" rel="stylesheet"/>
	    <link href="../css/footerStyles.css" th:href="@{/css/footerStyles.css}" rel="stylesheet"/>
	    <link href="../css/all.min.css" th:href="@{/css/all.min.css}" rel="stylesheet"/>
	</head>
	
		<body>
		
			<div th:replace="fragments/header_footer_fragment :: header"></div>
		
			<form method="post" th:action="@{/classified_ads}" th:object="${classifiedAd}"  enctype="multipart/form-data">
				<input type="hidden" id="id" name="id" th:field="*{id}">
				<input type="hidden" id="itemId" name="itemId" th:field="*{item.id}">
				<input type="hidden" id="imageId" name = "imageId" th:field="*{item.itemImage.id}">
				<input type="hidden" id="imageFile" name = "imageFile" th:field="*{item.itemImage.fileName}">
				<label for="adTitle">Ad title:</label>
				<input type="text" id="adTitle" name="adTitle" th:field="*{title}" required>
				<br><br>
				<label for="postToClassifieds">Please enter your content here:</label><br>
				<textarea id="postToClassifieds" name="postToClassifieds" rows="10" cols="50" th:field="${classifiedAd.description}">
				  
				  </textarea>
				  <br><br>
				  <label for="itemName">Item:</label>
				  <input type="text" id="itemName" name="itemName" th:field="*{item.name}" required>
				  
				  <label for="itemCategory">Category:</label>
				  <select id="itemCategory" name="itemCategory" th:field="*{item.category}">
				  <!-- TODO: Make dynamic -->
				  	
					  	<option th:each="category: ${categories}"th:value="${category}" th:text="${category}"></option>
					  	
				  	
				  </select>
				  <br>
				  <br>
				  
				  <label for="price">Price:</label>
				  <input type="text" id="price" name="price" th:field="*{price}" required>
				  <br>
				  <br>
				  
				  <label for="image">Want to upload an image?:</label>
				<input type="file" id="image" name="image" accept="image/png, image/jpeg">
				<br>
				<br>
				 
				<button onclick="goBack()">Cancel</button>
				<input type="submit" value="Submit">
				
				<br>
				<br>
				<input th:unless="${newClassified}" type="submit" value="Delete Classified" th:formaction="@{/delete_classified}">
				
			</form>
			<!--TODO: Prevent it from saving when you click cancel-->
			<script>
			
			function goBack(){
				window.location.replace("/classified_ads/all/1");
			}
			</script>
		
		
		</body>
	</html>